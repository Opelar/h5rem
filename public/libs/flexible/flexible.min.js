(function(f,q){function m(){var b=l.getBoundingClientRect().width;540<b/a&&(b=540*a);b/=10;g.rem!=b&&(l.style.fontSize=b+"px",g.rem=f.rem=b,n.forEach(function(b){b()}))}var d=f.document,l=d.documentElement,h=d.querySelector('meta[name="viewport"]'),e=d.querySelector('meta[name="flexible"]'),a=0,c=0,p,g=q.flexible||(q.flexible={});if(h){if(console.warn("\u5c06\u6839\u636e\u5df2\u6709\u7684meta\u6807\u7b7e\u6765\u8bbe\u7f6e\u7f29\u653e\u6bd4\u4f8b"),e=h.getAttribute("content").match(/initial\-scale=([\d\.]+)/))c=
parseFloat(e[1]),a=parseInt(1/c)}else if(e){var k=e.getAttribute("content");k&&(e=k.match(/initial\-dpr=([\d\.]+)/),k=k.match(/maximum\-dpr=([\d\.]+)/),e&&(a=parseFloat(e[1]),c=parseFloat((1/a).toFixed(2))),k&&(a=parseFloat(k[1]),c=parseFloat((1/a).toFixed(2))))}a||c||(c=f.navigator.userAgent.match(/iphone/gi),e=f.devicePixelRatio,a=c?f.navigator.userAgent.match(/OS 9_3/)?1:3<=e&&(!a||3<=a)?3:2<=e&&(!a||2<=a)?2:1:1,c=1/a);l.setAttribute("data-dpr",a);h||(h=d.createElement("meta"),h.setAttribute("name",
"viewport"),h.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),l.firstElementChild?l.firstElementChild.appendChild(h):(c=d.createElement("div"),c.appendChild(h),d.write(c.innerHTML)));var n=[];g.onRemChanged=function(b){n.push(b)};g.removeListener=function(b){n=n.filter(function(a){return a!=b})};f.addEventListener("resize",function(){clearTimeout(p);p=setTimeout(m,300)},!1);f.addEventListener("pageshow",function(b){b.persisted&&(clearTimeout(p),
p=setTimeout(m,300))},!1);"complete"===d.readyState?d.body.style.fontSize=12*a+"px":d.addEventListener("DOMContentLoaded",function(b){d.body.style.fontSize=12*a+"px"},!1);m();g.dpr=f.dpr=a;g.refreshRem=m;g.rem2px=function(b){var a=parseFloat(b)*this.rem;"string"===typeof b&&b.match(/rem$/)&&(a+="px");return a};g.px2rem=function(a){var b=parseFloat(a)/this.rem;"string"===typeof a&&a.match(/px$/)&&(b+="rem");return b}})(window,window.lib||(window.lib={}));